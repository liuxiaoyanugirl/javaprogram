<!doctype html>
<html lang="en">
	<head>
        <meta charset="utf-8">
        <link rel ="stylesheet" href="css/bootstrap.css" >
<!-- Main CSS -->
    <style>
        body{
            width: 900px;
            height: 880px;
            background: url("images/bcg.jpg") no-repeat;

        }
        *{
            padding: 0;
            margin: 0;
        }
        /*标题样式*/
        .heaBac{
            width: 90%;
            height: 100px;
            margin: auto;
        }
        /*主盒子*/
        .mainBox {
            position: absolute;
            width:80%;
            left: 150px;
            height: 600px;
            border-radius: 10px;
        }
        /*主导航*/
        .MainNavigation{
            position: relative;
            width: 60%;
            height: 50px;
            top: 60px;
            left: 280px;

        }
        .MainNavigation ul {
            list-style: none;
        }
        .nav-link{
            display: block;
            width: 16%;
            height: 50px;
            line-height: 50px;
            text-align: center;
            float: left;
            color:black;
            font-size: 20px;
            text-decoration:none;
            border-radius: 5px;
            border: 1px solid lightblue;
        }
        .nav-link:hover{
            border: 1px solid black;
            border-radius: 5px;
            background-color: whitesmoke;
        }
        /*头部样式*/
        .text-left{
            width: 90%;
            margin: auto;
            height: 110px;
            border: 1px solid black;
        }
        /*标签盒子*/
        .main{
            width: 820px;
            height: 400px;
            border-radius: 10px;
            border: 2px solid white;
            overflow-y: scroll;
            overflow-x:hidden;
            margin: 90px 160px;
        }
        .labelBox{
            width: 780px;
            height: 120px;
            margin:10px auto;
            border-radius: 5px;
            border: 1px solid white;
        }
        /*标签内头像*/
        .avater{
            position: relative;
            width: 76px;
            height: 76px;
            left: 10px;
            top: 4px;
            border: 3px solid lightblue;
            border-radius: 100px;
        }
        /*标签内小标签*/
        .label{
            position: relative;
            width: 120px;
            height: 30px;
            top: 5px;
            color: white;
            border-radius: 5px;
            background-color: lightblue;
        }
        /*标签内介绍框*/
        .label-little{
            position: relative;
            width: 560px;
            height: 80px;
            border: 1px solid white;
            border-radius: 5px;
            top: -78px;
            left: 100px;
        }
        .join{
            position: relative;
            width: 16px;
            height: 16px;
            top: -20px;
            left: 600px;
        }
        .online{
            position: relative;
            left: 100px;        }
        .test{
            position: relative;
            left: 120px;
        }
        .lefPeople{
            position: relative;
            left: 580px;
            top: 46px;

        }
        /*侧边样式*/
        .sidebar-box {
            position: absolute;
            width: 14%;
            height: 500px;
            left: 6px;
            top: -60px
           
        }
        .user {
            height: 100px;
            width: 100px;
            margin-top: 5px;
            margin-left: 20px;
            border: 2px solid white;
            border-radius: 100px;
        }
        .nickName{
            position: relative;
            top: 5px;
            left: 36px;
            border-radius: 3px;
            border: 1px solid white;
        }
        .signature {
            position: relative;
            width: 96%;
            display: block;
            color: black;
            top: 10px;
            left: 5px;

        }
        .list-group{
            position: relative;
            width: 100%;
            height: 246px;
            top: 44px;
            left: 10px;
            background-color: whitesmoke;
            border-radius: 5px;
        }
         .list-group .list-group-item{
             text-decoration: none;
             display: block;
             position: relative;
             width: 138px;
             height: 42px;
             line-height: 36px;
             text-align: center;
             font-size: 20px;
             color: black;
        }
         .list-group-item:hover{
             background-color:lightcyan;
         }
        .list-line {
            position: relative;
            width: 134px;
            height: 1px;
            background-color: white;
        }
      /*发布框*/
        .public-box{
            position: relative;
            width: 200px;
            height: 400px;
            top: 140px;
            left: 1144px;
            border-radius: 10px;
            border: 1px solid white;
        }
        .public-head{
            width: 100%;
            height: 12%;
        }
        .phead-1{
            width: 100px;
            margin: 8px 8px;
            color: black;
        }
        .phead-2 {
            width: 80px;
            margin: 8px 0;
            color:dodgerblue;
        }
        .phead-3{
            position: relative;
            width: 140px;
            left: 40px;
            top: -20px;
            color: #d5d5d5;
        }

        .phead-4{
            width: 80px;
            margin: 6px 0 0 0;
            color:dodgerblue;
        }
        .btn-1{
            width: 60px;
            height: 30px;
            color: black;
            margin-top: 310px;
            margin-left: 120px;
            background-color:lightblue;
            border-radius: 5px;
        }
        /*滚动条样式*/
        /*定义滚动条高宽及背景 高宽分别对应横竖滚动条的尺寸*/
        ::-webkit-scrollbar
        {
            width: 10px;
            border-radius: 6px;
            background-color: #fff;
        }

        /*定义滚动条轨道 内阴影+圆角*/
        ::-webkit-scrollbar-track
        {
            border-radius: 10px;
            background-color:transparent ;
        }

        /*定义滑块 内阴影+圆角*/
        ::-webkit-scrollbar-thumb
        {
            border-radius: 10px;
            background-color: lightblue;
        }
        /*定义最上方和最下方的按钮*/
        ::-webkit-scrollbar-button{
            border-radius: 10px;
            background-color: transparent;
        }
    </style>
    </head>
    <body>
    <!-- Header content area -->
    <div class="heaBac">
     <div>
      <h1 style="color: #d5d5d5">supater 学 习 交 友 社 区</h1>
     </div>
    </div>
        <!-- Main content area -->
     <div class="mainBox">
            <!-- Main navigation -->
            <div class="MainNavigation">
            <ul>
                <li>
                    <a class="nav-link" href="#">首页信息</a>
                    <a class="nav-link" href="#">组队学习</a>
                    <a class="nav-link" href="#">吃喝玩乐</a>
                <a class="nav-link" href="#">课程讲座</a>
                <a class="nav-link" href="home.html">个人中心</a>
                </li>
            </ul>
            </div>
            <!-- Main content -->
                <div class="col-sm-8">
                    <div class="main">
                       <div class="labelBox">
                            <span class="label online">线上</span>
                            <span class="label test">考研</span>
                            <div >
                                <img class="avater" src="images/tx.jpg"/>
                            </div>
                            <div class="label-little">
                                <p id="title0" style="background-color: #4cae4c"></p>
                                <span id="part01"></span> <span id="part02"> </span> <span id="part03"> </span><span id="part04"></span><span id="part05"></span>
                                <p id="remark0" style="background-color: #4cae4c"></p>
                            <div class="join">
                                <img  src="images/join.png"/>
                            </div>
                            <p class="lefPeople">剩余人数3/5</p>
                        </div>
                        </div>
                       <div class="labelBox">
                            <span class="label online">线上</span>
                            <span class="label test">考研</span>
                            <div >
                                <img class="avater" src="images/tx.jpg"/>
                            </div>
                           <div class="label-little">
                               <p id="title1" style="background-color: #4cae4c"></p>
                               <span id="part11"></span> <span id="part12"> </span> <span id="part13"> </span><span id="part14"></span><span id="part15"></span>
                               <p id="remark1" style="background-color: #4cae4c"></p>
                               <div class="join">
                                   <img  src="images/join.png"/>
                               </div>
                               <p class="lefPeople">剩余人数3/5</p>
                           </div>
                        </div>
                        <div class="labelBox">
                            <span class="label online">线上</span>
                            <span class="label test">考研</span>
                            <div >
                                <img class="avater" src="images/tx.jpg"/>
                            </div>
                            <div class="label-little">
                                <p id="title2" style="background-color: #4cae4c"></p>
                                <span id="part21"></span> <span id="part22"> </span> <span id="part23"> </span><span id="part24"></span><span id="part25"></span>
                                <p id="remark2" style="background-color: #4cae4c"></p>
                                <div class="join">
                                    <img  src="images/join.png"/>
                                </div>
                                <p class="lefPeople">剩余人数3/5</p>
                            </div>
                        </div>
                    </div>
                <!-- Sidebar -->
                    <div class="sidebar-box">
                        <img class="user" src="images/tx.jpg">   <br>
                        <span id="aa" class="nickName"></span>
                        <span class="signature">  不学好英语不改签名</span>
                        <div class="list-group">
                            <a class="list-group-item" href="#">发布组队</a>
                            <div class="list-line"></div>
                            <a class="list-group-item" href="#">我的组队</a>
                            <div class="list-line"></div>
                            <a class="list-group-item" href="#">个人信息</a>
                            <div class="list-line"></div>
                            <a class="list-group-item" href="#">进入聊天</a>
                            <div class="list-line"></div>
                            <a class="list-group-item" href="#">个人信息</a>
                            <div class="list-line"></div>
                            <a class="list-group-item" href="#">了解更多</a>
                    </div>
                    </div>
                </div>
        </div>
<!--    public content area-->
    <div class="public-box">
                <div class="public-head" >
                    <p class="phead-1" >发布组队信息</p>
                    <p class="phead-2" >标题: <input id="actionName" class="phead-3" placeholder="请输入"/>  </p>
                    <p class="phead-4" >模式: <select id="type" class="phead-3" property="请选择标签">
                        <option style="color: #d5d5d5" value="1">线下学习</option>
                        <option value="2">线上学习</option>
                    </select> </p>
                    <p class="phead-4" >标签: <select id="label" class="phead-3" property="请选择标签">
                        <option style="color: #d5d5d5" value="volvo">考研冲刺</option>
                        <option value="saab">期末复习</option>
                    </select>  </p>
                    <p class="phead-4" >人数: <select id="maxMember" class="phead-3" property="请选择标签">
                        <option style="color: #d5d5d5" value="2">最多2人</option>
                        <option value="3">最多3人</option>
                        <option value="4">最多4人</option>
                        <option value="5">最多5人</option>
                    </select>  </p>
                    <p class="phead-4" >时间:<input id="time" class="phead-3" placeholder="请输入"/> </p>
                    <p class="phead-4" >地点: <input id="site" class="phead-3" placeholder="请输入"/> </p>
                    <p class="phead-4" >备注: <input id="ps" class="phead-3" placeholder="请输入"/> </p>

                </div>
        <button class="btn-1">发布</button>
    </div>
    </body>
    <script src="jquery.min.js"></script>
    <script src="jquery.cookie.js"></script>
    <script type="text/javascript">

        $(document).ready(function(){
            //滚动条方法
            $("#main").scroll(200);
            //掉用后台接口
            function init(){
                //显示个人信息
                $.ajax({
                    type: "GET",
                    url: "http://localhost:8888/userInfo/getUserInfo?username=root", //这里写接口地址，
                    // data: {username:$("#username").val(), content:$("root").val()}, //调用时的参数
                    dataType: "json",//返回json
                    success: function(data){//成功
                        $('.signature').html(data.personalizedSignature);
                    }
                });
                //显示全部组队信息
                $.ajax({
                    type: "GET",
                    url: "http://localhost:8888/studyInfo/getStudyInfo?username=root&pageNum=1&pageSize=10", //这里写接口地址，
                    // data: {username:$("#username").val(), content:$("root").val()}, //调用时的参数
                    dataType: "json",//返回json
                    success: function(data){//成功
                        console.log(data);
                        $('#title0').html(data.list[0].actionName );
                        $('#part01').html(data.list[0].userSchool );
                        $('#part02').html(data.list[0].site );
                        $('#part03').html(data.list[0].time  );
                        $('#part04').html(data.list[0].type  );
                        $('#part05').html(data.list[0].label  );
                        $('#remark0').html(data.list[0].ps);

                        $('#title1').html(data.list[1].actionName);
                        $('#part11').html(data.list[1].userSchool );
                        $('#part12').html(data.list[1].site);
                        $('#part13').html(data.list[1].time  );
                        $('#part14').html(data.list[1].type  );
                        $('#part15').html(data.list[1].label );
                        $('#remark1').html(data.list[1].ps);

                        $('#title2').html(data.list[2].actionName);
                        $('#part21').html(data.list[2].userSchool );
                        $('#part22').html(data.list[2].site );
                        $('#part23').html(data.list[2].time );
                        $('#part24').html(data.list[2].type );
                        $('#part25').html(data.list[2].label );
                        $('#remark2').html(data.list[2].ps);
                    }
                });

            };
            init();    // 调用
            //主页面取值
            $(function(){
                var username = $.cookie('username');//获取存储的cookie
                console.log(username);
                $('#aa').html(username);//打印到页面上
                //发布组队信息
                $(".btn-1").click(function(){
                    const actionName = $("#actionName").val();
                    const label = $("#label").val();
                    const maxMember = $("#maxMember").val();
                    const ps = $("#ps").val();
                    const site = $("#site").val();
                    const time = $("#time").val();
                    const type = $("#type").val();
                    const userSchool = $("#userSchool").val();
                    //请求参数
                    const StudyInfo = {
                        username: "root",
                        userSchool: "湖北大学",
                        actionName: actionName,
                        type: type,
                        label: label,
                        time:time,
                        site: site,
                        maxMember: 0,
                        leftSize: -1,
                        date: "2019-12-27",
                        ps: ps,
                        valid: 1
                    };
                    $.ajax({
                        type: "PUT",
                        dataType: 'json',
                        contentType: "application/json",//返回json
                        url: "http://localhost:8888/studyInfo/insert", //这里写接口地址，
                        data: JSON.stringify(StudyInfo),
                        success: function(data){//成功
                            // console.log(data);
                        },
                        //请求失败，包含具体的错误信息
                        error: function (e) {
                           console.log(e.status);
                            console.log(e.responseText);
                        }
                    });
                });
            });
         });
    </script>
</html>